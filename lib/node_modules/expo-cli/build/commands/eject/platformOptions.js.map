{"version":3,"sources":["../../../src/commands/eject/platformOptions.ts"],"names":["getDefaultPlatforms","platforms","process","platform","push","platformsFromPlatform","log","warn","CommandError"],"mappings":";;;;;;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AAEA,SAASA,mBAAT,GAA8C;AAC5C,QAAMC,SAAwB,GAAG,CAAC,SAAD,CAAjC;;AACA,MAAIC,OAAO,CAACC,QAAR,KAAqB,OAAzB,EAAkC;AAChCF,IAAAA,SAAS,CAACG,IAAV,CAAe,KAAf;AACD;;AACD,SAAOH,SAAP;AACD;;AAEM,SAASI,qBAAT,CAA+BF,QAA/B,EAAiE;AACtE,MAAI,CAACA,QAAL,EAAe;AACb,WAAOH,mBAAmB,EAA1B;AACD;;AACD,UAAQG,QAAR;AACE,SAAK,KAAL;AACE,UAAID,OAAO,CAACC,QAAR,KAAqB,OAAzB,EAAkC;AAChCG,uBAAIC,IAAJ,CAAS,mEAAT,EADgC,CAEhC;;AACD;;AACD,aAAO,CAAC,KAAD,CAAP;;AACF,SAAK,SAAL;AACE,aAAO,CAAC,SAAD,CAAP;;AACF,SAAK,KAAL;AACE,aAAOP,mBAAmB,EAA1B;;AACF;AACE,YAAM,KAAIQ,uBAAJ,EAAkB,yBAAwBL,QAAS,mCAAnD,CAAN;AAZJ;AAcD","sourcesContent":["import { ModPlatform } from '@expo/config-plugins';\n\nimport CommandError from '../../CommandError';\nimport log from '../../log';\n\nfunction getDefaultPlatforms(): ModPlatform[] {\n  const platforms: ModPlatform[] = ['android'];\n  if (process.platform !== 'win32') {\n    platforms.push('ios');\n  }\n  return platforms;\n}\n\nexport function platformsFromPlatform(platform?: string): ModPlatform[] {\n  if (!platform) {\n    return getDefaultPlatforms();\n  }\n  switch (platform) {\n    case 'ios':\n      if (process.platform === 'win32') {\n        log.warn('Ejecting is unsupported locally on windows, use eas build instead');\n        // continue anyways :shrug:\n      }\n      return ['ios'];\n    case 'android':\n      return ['android'];\n    case 'all':\n      return getDefaultPlatforms();\n    default:\n      throw new CommandError(`Unsupported platform \"${platform}\". Options are: ios, android, all`);\n  }\n}\n"],"file":"platformOptions.js"}